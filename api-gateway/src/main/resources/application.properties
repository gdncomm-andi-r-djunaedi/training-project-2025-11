# ========== BASIC ==========
server.port=8080
spring.application.name=api-gateway
spring.threads.virtual.enabled=true

# ========== SERVICES ==========
services.clients.member.base-url=http://localhost:8081
services.clients.member.endpoints.validate-credentials=/members/internal/auth/validate-credentials
services.clients.member.endpoints.register=/members/internal/auth/register
services.clients.member.connect-timeout=3000
services.clients.member.read-timeout=5000

services.clients.product.base-url=http://localhost:8082
services.clients.product.endpoints.list=/products
services.clients.product.endpoints.detail=/products/{id}

services.clients.cart.base-url=http://localhost:8083
services.clients.cart.endpoints.get=/cart
services.clients.cart.endpoints.add=/cart

# ========== GATEWAY ROUTES ==========
spring.cloud.gateway.server.webmvc.routes[0].id=member-service
spring.cloud.gateway.server.webmvc.routes[0].uri=${services.clients.member.base-url}
spring.cloud.gateway.server.webmvc.routes[0].predicates[0]=Path=/members/**

spring.cloud.gateway.server.webmvc.routes[1].id=product-service
spring.cloud.gateway.server.webmvc.routes[1].uri=${services.clients.product.base-url}
spring.cloud.gateway.server.webmvc.routes[1].predicates[0]=Path=/products/**

spring.cloud.gateway.server.webmvc.routes[2].id=cart-service
spring.cloud.gateway.server.webmvc.routes[2].uri=${services.clients.cart.base-url}
spring.cloud.gateway.server.webmvc.routes[2].predicates[0]=Path=/cart/**

# ========== SECURITY ==========
security.public-paths[0]=/actuator/**
security.public-paths[1]=/auth/**
security.public-paths[2]=/swagger-ui.html
security.public-paths[3]=/swagger-ui/**
security.public-paths[4]=/v3/api-docs/**
security.public-paths[5]=/webjars/**

# ========== REDIS ==========
spring.data.redis.host=localhost
spring.data.redis.port=6379

# ========== JWT ==========
security.jwt.secret-key=${SECURITY_JWT_SECRET_KEY}
security.jwt.expiration-minutes=60