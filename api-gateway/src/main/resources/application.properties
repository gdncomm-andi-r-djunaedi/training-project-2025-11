# Server Configuration
server.port=8082

# Application Name
spring.application.name=api-gateway

# JWT Configuration
# Secret key must be at least 32 characters (256 bits) for HS256 algorithm
jwt.secret-key=${JWT_SECRET_KEY:aVeryLongAndSecureSecretKeyForJwtSigningThatIsAtLeast32BytesLong}
jwt.expiration-seconds=3
jwt.issuer=marketplace-api
jwt.cookie-name=auth-token
jwt.header-name=Authorization
jwt.header-prefix=Bearer 

# Logging Configuration
logging.level.com.marketplace.gateway=INFO
logging.level.org.springframework.cloud.gateway=DEBUG

# Session Configuration (Disable JSESSIONID for reactive gateway)
spring.webflux.session.cookie.name=DISABLED

# Gateway Routes Configuration
# Format: gateway.routes[index].id, gateway.routes[index].path, gateway.routes[index].uri, gateway.routes[index].filters
# Filters: jwt-auth (for protected routes), jwt-token-creation (for login), jwt-logout (for logout), or leave empty for public routes
# Multiple filters can be comma-separated: jwt-auth,jwt-logout

# Member Service Routes
gateway.routes[0].id=member-register
gateway.routes[0].path=/api/members/register
gateway.routes[0].uri=http://localhost:8081
gateway.routes[0].filters=

gateway.routes[1].id=member-login
gateway.routes[1].path=/api/members/login
gateway.routes[1].uri=http://localhost:8081
gateway.routes[1].filters=jwt-token-creation

gateway.routes[2].id=member-logout
gateway.routes[2].path=/api/members/logout
gateway.routes[2].uri=http://localhost:8081
gateway.routes[2].filters=jwt-logout

# Product Service Routes
gateway.routes[3].id=product-service
gateway.routes[3].path=/api/products/**
gateway.routes[3].uri=http://localhost:8083
gateway.routes[3].filters=

# Search Service Routes
gateway.routes[4].id=search-service
gateway.routes[4].path=/api/search/**
gateway.routes[4].uri=http://localhost:8084
gateway.routes[4].filters=

# Cart Service Routes
gateway.routes[5].id=cart-service
gateway.routes[5].path=/api/cart/**
gateway.routes[5].uri=http://localhost:8085
gateway.routes[5].filters=jwt-auth

