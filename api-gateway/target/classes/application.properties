# --- Server Config ---
server.port=8080

# --- JWT Config ---
gateway.jwt.secret=change-this-secret-change-this-secret-1234
gateway.jwt.ttlSeconds=3000

# --- Gateway Routes ---
# Route 1: Member
gateway.routesList[0].id=member
gateway.routesList[0].pathPrefix=/api/members
gateway.routesList[0].targetBaseUrl=http://localhost:8081
gateway.routesList[0].targetPathPrefix=/api/members
gateway.routesList[0].requiresAuth=false

# Route 2: Product
gateway.routesList[1].id=product
gateway.routesList[1].pathPrefix=/api/products
gateway.routesList[1].targetBaseUrl=http://localhost:8082
gateway.routesList[1].targetPathPrefix=/api/products
gateway.routesList[1].requiresAuth=false

# Route 3: Cart
gateway.routesList[2].id=cart
gateway.routesList[2].pathPrefix=/api/cart
gateway.routesList[2].targetBaseUrl=http://localhost:8083
gateway.routesList[2].targetPathPrefix=/api/cart
gateway.routesList[2].requiresAuth=true

# --- Security Rules ---
# Public Paths
gateway.security.public-paths[0]=/swagger-ui/**
gateway.security.public-paths[1]=/v3/api-docs/**
gateway.security.public-paths[2]=/api/members/register
gateway.security.public-paths[3]=/api/members/login
gateway.security.public-paths[4]=/api/products/**

# Authenticated Paths
gateway.security.authenticated-paths[0]=/api/cart/**
gateway.security.authenticated-paths[1]=/api/members/logout

# --- CORS Configuration ---
gateway.cors.mappings[0].pathPattern=/api/**
gateway.cors.mappings[0].allowedOrigins[0]=http://localhost:3000
gateway.cors.mappings[0].allowedMethods[0]=GET
gateway.cors.mappings[0].allowedMethods[1]=POST
gateway.cors.mappings[0].allowedMethods[2]=PUT
gateway.cors.mappings[0].allowedMethods[3]=DELETE
gateway.cors.mappings[0].allowedMethods[4]=OPTIONS
gateway.cors.mappings[0].allowedHeaders[0]=*
gateway.cors.mappings[0].exposedHeaders[0]=X-Total-Count
gateway.cors.mappings[0].allowCredentials=true
gateway.cors.mappings[0].maxAge=3600

# --- Swagger UI ---
springdoc.swagger-ui.path=/swagger-ui.html