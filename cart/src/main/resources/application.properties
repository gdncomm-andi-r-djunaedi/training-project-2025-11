# ==========================================
# APPLICATION CONFIGURATION
# ==========================================
spring.application.name=cart

# ==========================================
# SERVER CONFIGURATION
# ==========================================
server.port=8081
server.servlet.context-path=/api

# ==========================================
# MONGODB CONFIGURATION
# ==========================================
spring.data.mongodb.uri=mongodb://localhost:27017/cartdb
spring.data.mongodb.auto-index-creation=true

# ==========================================
# REDIS CONFIGURATION
# ==========================================
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.timeout=2000ms
spring.data.redis.lettuce.pool.max-active=20
spring.data.redis.lettuce.pool.max-idle=10
spring.data.redis.lettuce.pool.min-idle=5

# ==========================================
# CACHE CONFIGURATION
# ==========================================
spring.cache.type=redis
spring.cache.redis.time-to-live=604800000
spring.cache.redis.cache-null-values=false

# ==========================================
# JWT CONFIGURATION
# ==========================================
jwt.secret=70d9a400-3fd5-4501-9abe-2acf1761f396
jwt.expiration=36000

# ==========================================
# CART CONFIGURATION
# ==========================================
cart.max-items=100
cart.max-quantity-per-item=99
cart.ttl-days=7
cart.abandoned-days=30

# ==========================================
# PRODUCT SERVICE INTEGRATION
# ==========================================
product-service.base-url=http://localhost:8082/api
product-service.timeout=5000

# ==========================================
# SPRINGDOC / SWAGGER CONFIGURATION
# ==========================================
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.operations-sorter=method
springdoc.swagger-ui.tags-sorter=alpha

# ==========================================
# LOGGING CONFIGURATION
# ==========================================
logging.level.root=INFO
logging.level.com.example.cartservice=DEBUG
logging.level.org.springframework.data.mongodb=DEBUG
logging.level.org.springframework.data.redis=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# ==========================================
# SPRING BOOT 3.5.8 SPECIFIC
# ==========================================
# Enable virtual threads (Project Loom - available in Spring Boot 3.2+)
spring.threads.virtual.enabled=true

# Enable RestClient (new in Spring Boot 3.2+)
# This is the modern replacement for RestTemplate
spring.http.client.factory=jdk

# Connection pool configuration
spring.data.mongodb.lettuce.pool.enabled=true

# ==========================================
# ACTUATOR (Health & Monitoring)
# ==========================================
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized
management.health.redis.enabled=true
management.health.mongo.enabled=true